<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Game Hell</title>
<style type="text/css">
<!--
.style1 {color: #3399CC}
/*set style of GameHell Title*/
.style2 {
	font-size: 90px;
	font-family: Algerian, serif, monospace;
	color: #FFFFFF;
	text-shadow: 10px 5px #762E7D;
}
input[type=text], input[type=password] {
    width: 100%;
    padding: 12px 20px;
    margin: 8px 0;
    display: inline-block;
    border: 1px solid #ccc;
    box-sizing: border-box;
}

/* Set a style for all buttons */
button {
    background-color: black;
    color: white;
    padding: 20px 20px;
    margin: 2px 0;
    border: none;
    cursor: pointer;
	border-radius: 12px;
    width: 100%;
}

button:hover {
    background-color: #FFFFFF;
	color: black;
    opacity: 0.8;
}
.button2 {
    background-color: black;
    color: white;
    padding: 10px 18px;
    margin: 2px 0;
    border: none;
    cursor: pointer;
	border-radius: 12px;
    width: auto;
}

.button2:hover {
    background-color: #FFFFFF;
	color: black;
    opacity: 0.8;
}
/* Extra styles for the cancel button */
.cancelbtn {
    width: auto;
    padding: 10px 18px;
    background-color: #f44336;
}

/* Center the image and position the close button */
.imgcontainer {
    text-align: center;
    margin: 24px 0 12px 0;
    position: relative;
}

img.avatar {
    width: 40%;
    border-radius: 50%;
}

.container {
    padding: 16px;
}

span.psw {
    float: right;
    padding-top: 16px;
}

/* The Modal (background) */
.modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    padding-top: 60px;
}

/* Modal Content/Box */
.modal-content {
    background-color: #fefefe;
    margin: 5% auto 15% auto; /* 5% from the top, 15% from the bottom and centered */
    border: 1px solid #888;
    width: 80%; /* Could be more or less, depending on screen size */
}

/* The Close Button (x) */
.close {
    position: absolute;
    right: 25px;
    top: 0;
    color: #000;
    font-size: 35px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: red;
    cursor: pointer;
}

/* Add Zoom Animation */
.animate {
    -webkit-animation: animatezoom 0.6s;
    animation: animatezoom 0.6s
}

@-webkit-keyframes animatezoom {
    from {-webkit-transform: scale(0)} 
    to {-webkit-transform: scale(1)}
}
    
@keyframes animatezoom {
    from {transform: scale(0)} 
    to {transform: scale(1)}
}

/* Change styles for span and cancel button on extra small screens */
@media screen and (max-width: 300px) {
    span.psw {
       display: block;
       float: none;
    }
    .cancelbtn {
       width: 100%;
    }
}
body {
	background-color: #3E3C3C;
}
.style4 {font-size: 50px; color: #CCCCCC; }
.style5 {
	font-size: 40px;
	color: #CCCCCC;
}
#heading{
background-color: black;
}
.sign{
	font-size: 20px;
}
h1{color:#ff99ff}
p {color:#99ccff}
-->
</style>
<script>
function createCookie(name,value,days) {
	if (days) {
		var date = new Date();
		date.setTime(date.getTime()+(days*24*60*60*1000));
		var expires = "; expires="+date.toGMTString();
	}
	else var expires = "";
	document.cookie = name+"="+value+expires+"; path=/";
}

function readCookie(name) {
	var nameEQ = name + "=";
	var ca = document.cookie.split(';');
	for(var i=0;i < ca.length;i++) {
		var c = ca[i];
		while (c.charAt(0)==' ') c = c.substring(1,c.length);
		if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
	}
	return null;
}

function eraseCookie(name) {
	createCookie(name,"",-1);
}
function logout(){

    $.ajax({
           type: "POST",
           url: "/logout",
           data: {user_id: readCookie("user_id")}, // serializes the form's elements.
   
         });
		 
	top.location='home.html';
	eraseCookie("user_name");
	eraseCookie("user_id");

}
	var video=document.forms["videoform"]["videolink"].value;
	if (video==""){
		alert("The video link should not be empty");
		return false;
	}
}

</script>
</head>

<body>
<table id="heading" width="100%" border="0">
  <tr>
    <th width="9%" height="108" rowspan="2" scope="col"><img src="img/gamehell.jpg" width="199" height="148" /></th>
    <th onclick="self.location='userhome.html'" width="69%" rowspan="2" scope="col"><span class="style2">GAME HELL </span></th>
    <th width="6%" height="63" scope="col">&nbsp;</th>
    <th width="8%" scope="col"><span class="style7"><a href="person_info_menu.html" target="main"><p id=username>Username</p></a></span></th>
    <th width="8%" scope="col"><button class="logout" style="width:auto; max-height:100%;" onclick="logout()">Log Out </button> </th>
  </tr>
</table>




<table width="100%" border="0">
	<tr >
		<th colspan="1"><div align="right"><img id="productimg" src="img/mainpage/recommend1.jpg" width="230" height="230" /></div></th>
	</tr>
	<tr>
		<td>
			<h1 id="productname" ></h1>
		</td>
	</tr>
	<tr>
		<td >
			<div ><font size="4" color="red">Author:</font></div><a id="seller1"><p id="author"></p></a>
		</td>
	</tr>



	<tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr>
	<tr>
		<td >
			<div id="platform" ><font size="4" color="red">Platform:</font></div><p id="platform1"></p>
		</td>
		<td>
	</tr>
	<tr>
		<td >
			<div id="categories" ><font size="4" color="red">Categories:</font></div><p id="categories1"></p>
		</td>
		<td>
	</tr>
	<tr>
		<td >
			<div id="rdate" ><font size="4" color="red">Release Date:</font></div><p id="rdate1"></p>
		</td>
		<td>
	</tr>
		<tr>
		<td >
			<div id="validate" ><font size="4" color="red">Validation:</font></div><p id="validate1"></p>
		</td>
		<td>
	</tr>
	<tr>
		<td colspan="3" >
			<div id="gameinformation" ><font size="4" color="red">Game Information</font><p id="gameinformation1"></p>
			</div>
		</td>
		
	</tr>
</table>

<input type="button" onclick="validgame()" id="valid" value="Valid"></input>
<input type="button" onclick="nvalidgame()" id="nvalid" value="Not Valid"></input>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>


<script>
var url=window.location.href ;
var queryStart = url.indexOf("?") + 1;
var queryEnd = url.length + 1;
var query = url.slice(queryStart, queryEnd - 1);
function validgame(){
$.ajax({
  type: "POST",
  url: '/validgame',
  data:query,
  success: function(data){
  if(data=='1'){
    alert('Successfully validate');
	window.location.href='/validgameform.html?'+query;
  }
 

	
 }
});


}
function nvalidgame(){
$.ajax({
  type: "POST",
  url: '/nvalidgame',
  data:query,
  success: function(data){
  if(data=='1'){
  alert('Successfully unvalidate');
  window.location.href='userhome.html';
	}
 }
});



}



getgamevalidform();
function getgamevalidform(){

$.ajax({
  type: "POST",
  url: '/getgamevalidform',
  data:query,
  success: function(data){
	
	if(data[0].validation==1)
		document.getElementById("validate1").innerHTML ='Yes';
		else
				document.getElementById("validate1").innerHTML ='No';
	document.getElementById("productimg").src =data[0].image_link;
	document.getElementById("productname").innerHTML =data[0].game_name;
	document.getElementById("platform1").innerHTML =data[0].platform;
	document.getElementById("categories1").innerHTML =data[0].categories;
	strdate=data[0].release_date;
	str4=strdate.substring(0,10);
	document.getElementById("rdate1").innerHTML =str4;
	document.getElementById("author").innerHTML =data[0].author;
	document.getElementById("gameinformation1").innerHTML =data[0].information;

	
 }
});


}
</script>
<script>
	window.onload = function() {
		if (readCookie("user_name")==null){
			top.location='home.html';
		}
		document.getElementById("username").innerHTML =readCookie("user_name");
		document.getElementById("username").style.fontSize = "xx-large";
		document.getElementById("username").style.color = "magenta";
		
}
</script>

</body>
</html>
